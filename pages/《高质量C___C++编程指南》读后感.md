- >人的顿悟通常发生在最心痛的时刻。--林锐博士
- tags:: c, c++
	- 编写一个函数strcpy的代码
		- 考察应聘者：
			- 1.编程风格
			- 2.出错处理
			- 3.算法复杂度分析
	- ### 1 文件结构
	  collapsed:: true
		- 项目文件夹组织
			- 一个C项目最基本有头文件.h和源文件.c, C工程师主要编写这两个文件实现预期功能。现在文件夹组织的最佳实践是分层分模块，典型的包括驱动层和应用层，每一层按功能进行模块划分。
		- 头文件组织
			- 版权版本声明
			- 预处理块
				- 防止重复引用，用ifdefine/define/endif结构包含
				- C，C++混合编程，添加如下结构，告诉编译器按C方式调用函数，避免函数重载问题。
					- ```c
					  #ifdef __cplusplus 
					  extern "C" { 
					  #endif 
					   
					  //一段代码 
					   
					  #ifdef __cplusplus 
					  } 
					  #endif
					  ```
			- 函数、类、结构体声明
		- 源文件组织
			- 头文件引用
			- 全局函数声明
			- 局部函数声明
			- 全局函数实现
			- 局部函数实现
	- ### 2 程序版式
	  collapsed:: true
		- 空行
			- 函数之间、类之前加空行
			- 逻辑密切代码间不加空行
		- 代码行
			- 一行代码只做一件事
			- if，while，for，do各占一行，加{}
			- 尽可能定义时初始化变量，减少隐患
		- 代码行内空格
			- 关键字后留空格
			- 函数名之后不加空格
			- 逗号后留空格
			- 运算符 前后加空格
			- 一元操作符不加空格
			- ‘[ ]'，’.‘，’- >‘不加空格
			- 表达式较长的for 和if语句适当去掉空格
		- 对齐
			- { 与 }独占一行并对齐
		- 长行拆分
			- 在低优先级出拆分，适当缩进
		- 修饰符位置
			- 修饰符* 和& 靠近变量名
				- char *name；
		- 注释
			- 注释是对代码的提示，不是文档，不需要太多
			- 注释不要放在下方
		- 类的版式
			- 建议共有函数接口放前，数据放在后面，以“行为为中心”
			- ```c
			  class A
			  {
			  	public:
			      	void Func1(void);
			          void Func2(void);
			          ...
			      private:
			      	int   i, j;
			          float x, y;
			          ...
			  }
			  ```
	- ###  3 命名规则
	  collapsed:: true
		- 共性规则
			- 标识符直观且可读
			- 符合最小长度，最大含义
			- 与操作系统和开发工具风格一致
			- 变量名不要靠大小写和数字序号区分
			- 局部变量和全局变量名不要同名
			- 变量名采用名词，或形容词加名词
				- float value;
				- float oldValue;
				- float newValue;
			- 全局函数名采用动词，或动词加名词
				- DrawBox();
				- box->Draw;
			- 用正确的反义词组命名具有互斥意义的变量或相反动作函数
		- windows应用命名规则
			- 类名函数名首字母用大写
			- 变量和参数用小写字母开头
			- 常量全用大写
			- 静态变量加前缀s_
			- 全局变量加前缀g_
			- 类的数据成员前缀加m_
				- ```c
				  void Object::SetValue(int width, int height)
				  {
				    m_width = width;
				    m_height = height;
				  }
				  ```
	- ### 4 表达式
	  collapsed:: true
		- if 语句
			- 布尔变量与0值比较
				- 布尔类型定义，0值为加，非0值都为真
					- ```c
					   if (flag) //表示flag为真
					   if (!flag) //表示flag为假
					  ```
			- 整型变量与0值比较
				- ```c
				  if (value == 0)
				  if (value != 0)
				  ```
			- 浮点变量与0值比较
				- ```c
				  if ((x >= - EPSINON) && (X <= EPSINON))
				  ```
			- 指针变量与0值比较
				- ```c
				  if (p == NULL)
				  if (p != NULL)
				  ```
		- 循环语句的效率
			- 多重循环，最长的循环放在内层，最短的放在外层
			- 循环存在判断逻辑，将判断逻辑移动最外面
		- for语句循环控制变量
			- 左闭右开
			- 不要在循环体修改循环变量
		- switch语句
			- 每个case记得加break；否则导致多分支重叠，除非有意为之
			- 最后加default，break分支
	- ### 5 常量
	  collapsed:: true
		- c中使用 define ，c++中使用 const
		- 需要公开的放头文件，不需要公开放源文件
		- 不能在类中初始化const 数据成员，只能在类构造函数的初始化表中进行
		- 用类的枚举常量建立整个类中恒定的常量
			- ```c
			  class A
			  {
			  	enum { SIZE = 100, SIZE2 = 200} ; //枚举常量
			      int array1[SIZE1];
			      int array2[SIZE2];
			  }
			  ```
		-